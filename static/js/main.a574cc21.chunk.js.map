{"version":3,"sources":["util/clicktrack.ts","contexts/clicktrack.tsx","util/strings.ts","components/icons/arrow.svg","components/icons/eighth.svg","components/icons/half.svg","components/icons/play.svg","components/icons/quarter.svg","components/icons/sixteenth.svg","components/icons/stop.svg","components/icons/whole.svg","components/bpm-calculator.tsx","contexts/pwa.tsx","components/layout.tsx","app.tsx","util/sw.ts","index.tsx"],"names":["ClickTrack","callback","_beatsPerMeasure","_currentBeat","loop","createLoopCallback","time","currentBeat","Draw","schedule","beatsPerMeasure","synth","triggerAttackRelease","nextBeat","this","Loop","fn","bpm","Error","Transport","value","Number","isInteger","Promise","resolve","reject","start","then","catch","pause","stop","MAX_BEATS_PER_MINUTE","MIN_BEATS_PER_MINUTE","MIN_BEATS_PER_MEASURE","MembraneSynth","toDestination","clickTrack","ClickTrackContext","createContext","useClickTrackRef","context","useContext","useRef","ClickTrackProvider","children","Provider","decimalFormatter","Intl","NumberFormat","maximumSignificantDigits","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","d","fill","_ref","svgRef","title","props","width","height","viewBox","ref","ForwardRef","forwardRef","fillRule","clipRule","_ref3","_ref4","_ref5","opacity","BPMCalculator","useState","setBpm","setBeatsPerMeasure","beatNote","setBeatNote","bpmCalculator","BPM","current","setBPM","note","notes","beats","numberOfBeatsFor","className","seconds","durationFor","aria-label","onClick","disabled","id","max","min","type","htmlFor","style","display","result","map","n","whiteSpace","format","aria-pressed","Beeper","setCurrentBeat","useEffect","addClickCallback","PlaybackBtn","isPlaying","setIsPlaying","PWAContext","undefined","PWAProvider","pwaEvt","setPwaEvt","beforePWAInstall","event","preventDefault","window","addEventListener","afterPWAInstall","removeEventListener","version","require","Layout","prompt","Date","getFullYear","href","rel","App","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","error","ReactDOM","render","document","getElementById","URL","process","origin","fetch","headers","response","contentType","get","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.a574cc21.chunk.js","sourcesContent":["import { Draw, Loop, MembraneSynth, start, Transport } from \"tone\";\n\n/**\n * Arguments supplied by ClickTrack to functions registered as callbacks to\n * each click event.\n */\ninterface ClickCbArgs {\n  currentBeat: number;\n  beatsPerMeasure: number;\n  time: number;\n}\n\n/**\n * A function registered as a callback to each click event.\n */\ntype ClickCbFunction = (args: ClickCbArgs) => void;\n\n/**\n * Class representing a ClickTrack used to keep time in music. A clicktrack\n * has a tempo (often supplied in BPM, or beats per minute). Each 'click'\n * (beat) is the same duration apart and there will be a constant number\n * per minute.\n *\n * @example\n *  const ct = new ClickTrack();\n *  ct.addClickCallback(({ currentBeat, time }) => {\n *    const d = new Date(time)\n *    console.log(`Played beat ${currentBeat} at time ${d.toTimeString()}`)\n *  });\n *  ct.start();\n */\nexport class ClickTrack {\n  /** Maximum BPM this ClickTrack supports */\n  static readonly MAX_BEATS_PER_MINUTE = 220;\n\n  /** Minimum BPM this ClickTrack supports */\n  static readonly MIN_BEATS_PER_MINUTE = 1;\n\n  /** Minimum beats per measure this ClickTrack supports */\n  static readonly MIN_BEATS_PER_MEASURE = 2;\n\n  /** A shared synth instance is used to output sound for each ClickTrack */\n  private static readonly synth = new MembraneSynth().toDestination();\n\n  /** Registered callbacks to be fired on each click event */\n  private callback: ClickCbFunction;\n\n  /**\n   * Number of beats in a measure. There are 4 beats per measure in 4/4.\n   */\n  private _beatsPerMeasure = 4;\n\n  /**\n   * Current beat within a cycle. Must be in the interval\n   * (1, beats per measure).\n   */\n  private _currentBeat = 1;\n\n  /** The internal tonejs Loop that's called on each click. */\n  private readonly loop: Loop;\n\n  constructor() {\n    this.loop = new Loop();\n\n    // the loop's callback is what's called at each transport timing event\n    this.loop.callback = this.createLoopCallback();\n\n    // originally set this.callback to a no-op instead of adding a conditional\n    // check in the loop\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    this.callback = () => {};\n  }\n\n  /**\n   * Returns a callback understood by ToneJS.\n   *\n   * @example\n   *  this.loop.callback = this.createLoopCallback()\n   */\n  private createLoopCallback = () => {\n    return (time: number) => {\n      // need a reference to the currentBeat so that the proper one is used\n      // in the scheduled callbacks\n      const currentBeat = this._currentBeat;\n\n      Draw.schedule(() => {\n        this.callback({\n          currentBeat: currentBeat,\n          beatsPerMeasure: this._beatsPerMeasure,\n          time,\n        });\n      }, time);\n\n      ClickTrack.synth.triggerAttackRelease(currentBeat === 1 ? \"G#3\" : \"G3\", \"4n\", time);\n\n      const nextBeat = currentBeat + 1;\n\n      this._currentBeat = nextBeat <= this._beatsPerMeasure ? nextBeat : 1;\n    };\n  };\n\n  /**\n   * Register the supplied function to be called during each\n   * 'click' event emitted by this ClickTrack.\n   */\n  addClickCallback(fn: ClickCbFunction): void {\n    this.callback = fn;\n  }\n\n  /**\n   * Set the beats per minute (BPM) of this ClickTrack. Increasing BPM (also\n   * stated as 'increasing tempo') speeds up time (ie: subsequent 'clicks'\n   * will be closer together).\n   *\n   * @throws Error if bpm is outside the range (0, 220).\n   */\n  setBPM(bpm: number): void {\n    if (bpm < 0 || bpm > 220) {\n      throw new Error(`bpm must be in the range (0, 220). Received: ${bpm}`);\n    }\n\n    Transport.bpm.value = bpm;\n  }\n\n  /**\n   * Set how many beats occur in a measure. This does not effect the overall\n   * tempo or BPM, but just shifts where the 'downbeat' occurs.\n   *\n   * @throws Error if beatsPerMeasure is not an integer or is less than 2.\n   */\n  setBeatsPerMeasure(beatsPerMeasure: number): void {\n    if (!Number.isInteger(beatsPerMeasure)) {\n      throw new Error(`beatsPerMeasure must be an integer. Received: ${beatsPerMeasure}`);\n    }\n\n    if (beatsPerMeasure < 2) {\n      throw new Error(\n        `beatsPerMeasure must be greater than or equal to 2. Received: ${beatsPerMeasure}`\n      );\n    }\n\n    this._beatsPerMeasure = beatsPerMeasure;\n    this.loop.callback = this.createLoopCallback();\n  }\n\n  /**\n   * Returns a promise to start playing this ClickTrack. Playback is dependent\n   * upon the browser's web audio context via the Web Audio API. If there is a\n   * problem with the underlying Web Audio, then the promise is rejected.\n   *\n   * @async\n   */\n  start(): Promise<void> {\n    return new Promise((resolve, reject) => {\n      start()\n        .then(() => {\n          Transport.start(\"+0.1\");\n          this.loop.start();\n          resolve();\n        })\n        .catch(() => {\n          reject();\n        });\n    });\n  }\n\n  /**\n   * Stops playing this ClickTrack.\n   */\n  stop(): void {\n    Transport.pause();\n    this.loop.stop();\n  }\n\n  /**\n   * Number of beats in a measure. There are 4 beats per measure in 4/4.\n   */\n  get beatsPerMeasure(): number {\n    return this._beatsPerMeasure;\n  }\n\n  /**\n   * Current beat within a cycle. Must be in the interval\n   * (1, beatsPerMeasure).\n   */\n  get currentBeat(): number {\n    return this._currentBeat;\n  }\n}\n","import React, { createContext, useContext, useRef } from \"react\";\nimport { ClickTrack } from \"../util/clicktrack\";\n\n/** Singleton ClickTrack */\nconst clickTrack = new ClickTrack();\n\nconst ClickTrackContext = createContext<ClickTrack>(clickTrack);\n\nexport const useClickTrackRef = (): React.MutableRefObject<ClickTrack> => {\n  const context = useContext(ClickTrackContext);\n  return useRef(context);\n};\n\nexport const ClickTrackProvider: React.FC = ({ children }) => {\n  return <ClickTrackContext.Provider value={clickTrack}>{children}</ClickTrackContext.Provider>;\n};\n","const decimalFormatter = new Intl.NumberFormat(\"en\", {\n  maximumSignificantDigits: 3,\n});\n\nexport function formatDecimal(n: number): string {\n  return decimalFormatter.format(n);\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M35.875 23.268C37.2083 24.0378 37.2083 25.9623 35.875 26.7321L14.125 39.2894C12.7917 40.0592 11.125 39.097 11.125 37.5574L11.125 12.4426C11.125 10.903 12.7917 9.94078 14.125 10.7106L35.875 23.268Z\",\n  fill: \"black\"\n});\n\nvar SvgArrow = function SvgArrow(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 50,\n    height: 50,\n    viewBox: \"0 0 50 50\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgArrow, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/arrow.b6a173b6.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M17.4201 35.563C14.0242 37.383 12.2148 40.6775 13.3278 43.1559C14.5151 45.7996 18.5949 46.5457 22.4344 44.8213C26.274 43.097 28.4266 39.5519 27.2393 36.9083C26.0521 34.2647 21.9723 33.5186 18.1327 35.2429C17.8928 35.3507 17.6465 35.4417 17.4201 35.563Z\",\n  fill: \"black\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M27.7875 4.74994V38.3375H26.2875V4.74994H27.7875Z\",\n  fill: \"black\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M27.0329 5.70978C26.4704 12.0223 31.8754 14.2835 34.5329 17.2098C37.0589 19.9912 37.9816 23.1995 37.8784 26.2054C37.8508 27.0079 37.6329 30.4855 35.2639 33.9721C38.4318 25.225 35.4824 21.714 32.6009 18.9205C29.111 15.5371 26.5148 12.3483 27.0329 5.70978Z\",\n  fill: \"black\"\n});\n\nvar SvgEighth = function SvgEighth(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 50,\n    height: 50,\n    viewBox: \"0 0 50 50\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgEighth, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/eighth.ee30c7da.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M28.1458 44.6713C31.5416 42.8513 33.351 39.5567 32.238 37.0783C31.0507 34.4347 26.971 33.6886 23.1314 35.4129C19.2918 37.1373 17.1392 40.6823 18.3265 43.326C19.5138 45.9696 23.5935 46.7157 27.4331 44.9913C27.673 44.8836 27.9194 44.7926 28.1458 44.6713ZM27.036 42.4291C26.7948 42.5534 26.5505 42.6471 26.2948 42.762C23.0218 44.2319 19.8606 44.301 19.2387 42.9163C18.6168 41.5315 20.7685 39.2147 24.0416 37.7447C27.3147 36.2748 30.4758 36.2056 31.0977 37.5904C31.671 38.867 29.8826 40.962 27.036 42.4291Z\",\n  fill: \"black\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M32.5283 4.75031V38.3379H31.0283V4.75031H32.5283Z\",\n  fill: \"black\"\n});\n\nvar SvgHalf = function SvgHalf(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 50,\n    height: 50,\n    viewBox: \"0 0 50 50\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgHalf, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/half.6d02873b.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M35.875 23.268C37.2083 24.0378 37.2083 25.9623 35.875 26.7321L14.125 39.2894C12.7917 40.0592 11.125 39.097 11.125 37.5574L11.125 12.4426C11.125 10.903 12.7917 9.94078 14.125 10.7106L35.875 23.268Z\",\n  fill: \"black\"\n});\n\nvar SvgPlay = function SvgPlay(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 50,\n    height: 50,\n    viewBox: \"0 0 50 50\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgPlay, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/play.b6a173b6.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M28.1457 44.6712C31.5416 42.8513 33.351 39.5567 32.238 37.0783C31.0507 34.4346 26.9709 33.6886 23.1314 35.4129C19.2918 37.1373 17.1392 40.6823 18.3265 43.3259C19.5137 45.9696 23.5935 46.7156 27.4331 44.9913C27.673 44.8835 27.9193 44.7926 28.1457 44.6712Z\",\n  fill: \"black\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M32.5282 4.75027V38.3379H31.0282V4.75027H32.5282Z\",\n  fill: \"black\"\n});\n\nvar SvgQuarter = function SvgQuarter(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 50,\n    height: 50,\n    viewBox: \"0 0 50 50\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgQuarter, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/quarter.2eac25c9.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M17.42 36.813C14.0242 38.6329 12.2147 41.9275 13.3278 44.4059C14.5151 47.0496 18.5948 47.7957 22.4344 46.0713C26.2739 44.3469 28.4265 40.8019 27.2393 38.1583C26.052 35.5146 21.9723 34.7686 18.1327 36.4929C17.8927 36.6007 17.6464 36.6916 17.42 36.813Z\",\n  fill: \"black\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M27.7875 2.74991V39.5875H26.2875V2.74991H27.7875Z\",\n  fill: \"black\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M26.5328 3.45975C25.9703 9.77225 31.3754 12.0335 34.0328 14.9597C36.5588 17.7412 37.4815 20.9495 37.3783 23.9553C37.3508 24.7579 37.1329 28.2355 34.7639 31.7221C37.9318 22.975 34.9823 19.464 32.1009 16.6705C28.611 13.287 26.0148 10.0983 26.5328 3.45975Z\",\n  fill: \"black\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M26.2994 9.49376C25.7369 15.8063 31.1419 18.0675 33.7994 20.9938C36.3253 23.7752 37.248 26.9835 37.1449 29.9894C37.1173 30.7919 36.8994 34.2695 34.5304 37.7561C37.6983 29.009 34.7489 25.498 31.8675 22.7045C28.3775 19.321 25.7813 16.1323 26.2994 9.49376Z\",\n  fill: \"black\"\n});\n\nvar SvgSixteenth = function SvgSixteenth(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 50,\n    height: 50,\n    viewBox: \"0 0 50 50\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgSixteenth, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/sixteenth.2f87e06c.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10.427 12.427C10.427 11.3224 11.3224 10.427 12.427 10.427H37.573C38.6775 10.427 39.573 11.3224 39.573 12.427V37.573C39.573 38.6776 38.6775 39.573 37.573 39.573H12.427C11.3224 39.573 10.427 38.6776 10.427 37.573V12.427Z\",\n  fill: \"black\"\n});\n\nvar SvgStop = function SvgStop(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 50,\n    height: 50,\n    viewBox: \"0 0 50 50\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgStop, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/stop.204e4507.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  opacity: 0.9,\n  d: \"M23.7451 15.6605C15.5596 15.9534 9.07281 19.8131 9.07281 24.504C9.07281 29.3857 16.0962 33.3476 24.75 33.3476C33.4038 33.3476 40.4272 29.3857 40.4272 24.504C40.4272 19.6224 33.4038 15.6605 24.75 15.6605C24.412 15.6605 24.0778 15.6486 23.7451 15.6605ZM21.1322 17.3689C23.3156 17.1454 26.0653 18.1577 28.3678 20.2329C31.8169 23.3413 32.9845 27.6999 30.9807 29.9809L30.9305 30.0312C28.887 32.2986 24.3986 31.5986 20.9312 28.4735C17.4638 25.3485 16.3252 20.9426 18.3686 18.6753C19.0551 17.9136 20.0277 17.4819 21.1322 17.3689Z\",\n  fill: \"black\"\n});\n\nvar SvgWhole = function SvgWhole(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 50,\n    height: 50,\n    viewBox: \"0 0 50 50\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgWhole, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/whole.da291ffb.svg\";\nexport { ForwardRef as ReactComponent };","import { BPM, NoteDuration } from \"@vapurrmaid/bpm\";\nimport React, { useEffect, /* useRef, */ useState } from \"react\";\nimport { useClickTrackRef } from \"../contexts/clicktrack\";\nimport { ClickTrack } from \"../util/clicktrack\";\nimport { formatDecimal } from \"../util/strings\";\nimport \"./bpm-calculator.scss\";\nimport { ReactComponent as ArrowIcon } from \"./icons/arrow.svg\";\nimport { ReactComponent as EighthNoteIcon } from \"./icons/eighth.svg\";\nimport { ReactComponent as HalfNoteIcon } from \"./icons/half.svg\";\nimport { ReactComponent as PlayIcon } from \"./icons/play.svg\";\nimport { ReactComponent as QuarterNoteIcon } from \"./icons/quarter.svg\";\nimport { ReactComponent as SixteenthNoteIcon } from \"./icons/sixteenth.svg\";\nimport { ReactComponent as StopIcon } from \"./icons/stop.svg\";\nimport { ReactComponent as WholeNoteIcon } from \"./icons/whole.svg\";\n\nfunction beatNoteToNumber(note: NoteDuration) {\n  if (note === \"thirtysecondth\") {\n    return 32;\n  } else if (note === \"sixteenth\") {\n    return 16;\n  } else if (note === \"eigth\") {\n    return 8;\n  } else if (note === \"quarter\") {\n    return 4;\n  } else if (note === \"half\") {\n    return 2;\n  } else {\n    return 1;\n  }\n}\n\nexport const BPMCalculator: React.FC = () => {\n  const clickTrack = useClickTrackRef();\n  const [bpm, setBpm] = useState<number>(120);\n  const [beatsPerMeasure, setBeatsPerMeasure] = useState<number>(4);\n  const [beatNote, setBeatNote] = useState<NoteDuration>(\"quarter\");\n  // const timerId = useRef<number | undefined>(undefined);\n\n  const bpmCalculator = new BPM(bpm);\n\n  clickTrack.current.setBPM(bpm);\n\n  const notes = [\n    {\n      beats: bpmCalculator.numberOfBeatsFor(\"sixteenth\", beatNote),\n      note: <SixteenthNoteIcon className=\"note-icon\" />,\n      seconds: bpmCalculator.durationFor(\"sixteenth\", beatNote),\n      value: \"sixteenth\",\n    },\n    {\n      beats: bpmCalculator.numberOfBeatsFor(\"eigth\", beatNote),\n      note: <EighthNoteIcon className=\"note-icon\" />,\n      seconds: bpmCalculator.durationFor(\"eigth\", beatNote),\n      value: \"eigth\",\n    },\n    {\n      beats: bpmCalculator.numberOfBeatsFor(\"quarter\", beatNote),\n      note: <QuarterNoteIcon className=\"note-icon\" />,\n      seconds: bpmCalculator.durationFor(\"quarter\", beatNote),\n      value: \"quarter\",\n    },\n    {\n      beats: bpmCalculator.numberOfBeatsFor(\"half\", beatNote),\n      note: <HalfNoteIcon className=\"note-icon\" />,\n      seconds: bpmCalculator.durationFor(\"half\", beatNote),\n      value: \"half\",\n    },\n    {\n      beats: bpmCalculator.numberOfBeatsFor(\"whole\", beatNote),\n      note: <WholeNoteIcon className=\"note-icon\" />,\n      seconds: bpmCalculator.durationFor(\"whole\", beatNote),\n      value: \"whole\",\n    },\n  ];\n\n  const handleDecreaseBpm = () => {\n    if (bpm - 1 >= ClickTrack.MIN_BEATS_PER_MINUTE) {\n      setBpm(bpm - 1);\n    }\n\n    // timerId.current = window.setInterval(() => {\n    //   setBpm(bpm => {\n    //     if (bpm - 1 >= ClickTrack.MIN_BEATS_PER_MINUTE) {\n    //       return bpm - 1;\n    //     }\n    //     return bpm;\n    //   });\n    // }, 200);\n  };\n\n  const handleIncreaseBpm = () => {\n    if (bpm + 1 <= ClickTrack.MAX_BEATS_PER_MINUTE) {\n      setBpm(bpm + 1);\n    }\n\n    // timerId.current = window.setInterval(() => {\n    //   setBpm(bpm => {\n    //     if (bpm + 1 <= ClickTrack.MAX_BEATS_PER_MINUTE) {\n    //       return bpm + 1;\n    //     }\n    //     return bpm;\n    //   });\n    // }, 200);\n  };\n\n  // const clearTimer = () => {\n  //   window.clearInterval(timerId.current);\n  // };\n\n  return (\n    <div className=\"calculator\">\n      <div className=\"calculator-top\">\n        <fieldset className=\"fieldset\">\n          <legend>BPM Controls</legend>\n\n          <div className=\"calculator-bpm\">\n            <div className=\"calculator-bpm-btns calculator-top-btn-group\">\n              <button\n                aria-label=\"Increase beats per minute\"\n                className=\"calculator-top-btn\"\n                onClick={handleIncreaseBpm}\n                // onTouchStart={handleIncreaseBpm}\n                // onTouchEnd={clearTimer}\n                // onMouseDown={handleIncreaseBpm}\n                // onMouseUp={clearTimer}\n                // onMouseLeave={clearTimer}\n              >\n                <ArrowIcon className=\"arrow arrow--up\" />\n              </button>\n              <button\n                aria-label=\"Decrease beats per minute\"\n                className=\"calculator-top-btn\"\n                onClick={handleDecreaseBpm}\n                // onTouchStart={handleDecreaseBpm}\n                // onTouchEnd={clearTimer}\n                // onMouseDown={handleDecreaseBpm}\n                // onMouseUp={clearTimer}\n                // onMouseLeave={clearTimer}\n              >\n                <ArrowIcon className=\"arrow arrow--down\" />\n              </button>\n            </div>\n\n            <div className=\"calculator-bpm-displays\">\n              <input\n                className=\"bpm-display\"\n                disabled\n                id=\"bpmDisplay\"\n                max={ClickTrack.MAX_BEATS_PER_MINUTE}\n                min={ClickTrack.MIN_BEATS_PER_MINUTE}\n                type=\"text\"\n                value={bpm}\n              />\n\n              <div className=\"calculator-bpm-displays-bottom\">\n                <div className=\"beepers\">\n                  <Beeper />\n                </div>\n\n                <label className=\"label\" htmlFor=\"bpmDisplay\">\n                  BPM\n                </label>\n              </div>\n            </div>\n          </div>\n        </fieldset>\n\n        <fieldset className=\"fieldset\">\n          <legend>Time Signature Controls</legend>\n\n          <div className=\"calculator-signature\">\n            <div className=\"calculator-signature-lcd\">\n              <label htmlFor=\"beatsPerMeasureDisplay\" style={{ display: \"none\" }}>\n                Beats per measure\n              </label>\n              <input\n                className=\"time-signature\"\n                disabled\n                id=\"beatsPerMeasureDisplay\"\n                min={ClickTrack.MIN_BEATS_PER_MEASURE}\n                type=\"text\"\n                value={beatsPerMeasure}\n              />\n              <label htmlFor=\"beatNoteDisplay\" style={{ display: \"none\" }}>\n                Beat note\n              </label>\n              <input\n                className=\"time-signature\"\n                disabled\n                id=\"beatNoteDisplay\"\n                type=\"text\"\n                value={beatNoteToNumber(beatNote)}\n              />\n            </div>\n\n            <div className=\"calculator-top-btn-group\">\n              <button\n                aria-label=\"Increase beats per measure\"\n                className=\"calculator-top-btn\"\n                onClick={() => {\n                  const result = beatsPerMeasure + 1;\n                  setBeatsPerMeasure(result);\n                  clickTrack.current.setBeatsPerMeasure(result);\n                }}\n              >\n                <ArrowIcon className=\"arrow arrow--up\" />\n              </button>\n              <button\n                aria-label=\"Decrease beats per measure\"\n                className=\"calculator-top-btn\"\n                disabled={beatsPerMeasure === ClickTrack.MIN_BEATS_PER_MEASURE}\n                onClick={() => {\n                  const result = beatsPerMeasure - 1;\n                  if (result >= ClickTrack.MIN_BEATS_PER_MEASURE) {\n                    setBeatsPerMeasure(result);\n                    clickTrack.current.setBeatsPerMeasure(result);\n                  }\n                }}\n              >\n                <ArrowIcon className=\"arrow arrow--down\" />\n              </button>\n            </div>\n          </div>\n        </fieldset>\n      </div>\n\n      <fieldset className=\"fieldset\">\n        <legend>Note Information</legend>\n\n        <section className=\"note-info\">\n          {notes.map(({ beats, note, seconds, value }) => (\n            <div key={value} className=\"note-info-line\">\n              <span\n                aria-label={`Number of beats for ${value} note at bpm ${bpm}`}\n                style={{ display: \"flex\", whiteSpace: \"pre\" }}\n              >\n                {note}\n                {` = ${beats}`}\n              </span>\n\n              <span style={{ display: \"flex\" }}>\n                <span aria-label={`Number of seconds for each ${value} note at bpm ${bpm}`}>\n                  {formatDecimal(seconds)}\n                </span>\n\n                <span>s</span>\n              </span>\n            </div>\n          ))}\n        </section>\n      </fieldset>\n\n      <fieldset className=\"fieldset\">\n        <legend>Beat Note Controls</legend>\n\n        <div className=\"note-btn-group\">\n          {notes.map(({ note, value }) => (\n            <button\n              aria-label={`Sets the beat note to a ${value} note`}\n              aria-pressed={value === beatNote}\n              className={`btn note-btn ${value === beatNote ? \"pushed\" : \"\"}`}\n              key={value}\n              onClick={() => {\n                setBeatNote(value as NoteDuration);\n              }}\n            >\n              {note}\n            </button>\n          ))}\n        </div>\n      </fieldset>\n\n      <fieldset className=\"fieldset\">\n        <legend>Playback Controls</legend>\n\n        <div className=\"calculator-playback\">\n          <PlaybackBtn />\n        </div>\n      </fieldset>\n    </div>\n  );\n};\n\nconst Beeper: React.FC = () => {\n  const clickTrack = useClickTrackRef();\n  const [currentBeat, setCurrentBeat] = useState<number>(1);\n\n  // hook that updates currentBeat whenever the Metronome ticks. Must ensure\n  // this hook has zero dependencies so that the callback only gets\n  // registered once.\n  useEffect(() => {\n    clickTrack.current.addClickCallback(({ currentBeat }) => setCurrentBeat(currentBeat));\n  }, [clickTrack]);\n\n  return (\n    <>\n      <span className={`beeper beeper--downbeat ${currentBeat === 1 ? \"on\" : \"off\"}`} />\n      <span className={`beeper beeper--upbeat ${currentBeat % 2 === 0 ? \"on\" : \"off\"}`} />\n      <span\n        className={`beeper beeper--oddbeat ${\n          currentBeat !== 1 && currentBeat % 2 !== 0 ? \"on\" : \"off\"\n        }`}\n      />\n    </>\n  );\n};\n\nconst PlaybackBtn: React.FC = () => {\n  const clickTrack = useClickTrackRef();\n  const [isPlaying, setIsPlaying] = useState<boolean>(false);\n\n  return (\n    <div className=\"playback-btn-wrap\">\n      <button\n        aria-label=\"Starts sounding the metronome\"\n        aria-pressed={isPlaying}\n        className={`playback-btn play ${\n          isPlaying ? \"playback-btn--on pushed\" : \"playback-btn--off\"\n        }`}\n        onClick={() => {\n          if (!isPlaying) {\n            clickTrack.current.start().then(() => {\n              setIsPlaying(true);\n            });\n          }\n        }}\n      >\n        <PlayIcon />\n      </button>\n      <button\n        aria-label=\"Stops sounding the metronome\"\n        aria-pressed={!isPlaying}\n        className={`playback-btn stop  ${\n          isPlaying ? \"playback-btn--off\" : \"playback-btn--on pushed\"\n        }`}\n        onClick={() => {\n          if (isPlaying) {\n            clickTrack.current.stop();\n            return setIsPlaying(false);\n          }\n        }}\n      >\n        <StopIcon />\n      </button>\n    </div>\n  );\n};\n","import React, { createContext, useContext, useEffect, useState } from \"react\";\n\ninterface PWAEvent extends Event {\n  prompt(): Promise<void>;\n}\n\nconst PWAContext = createContext<PWAEvent | undefined>(undefined);\n\nexport const usePWA = (): PWAEvent | undefined => useContext(PWAContext);\n\nexport const PWAProvider: React.FC = ({ children }) => {\n  const [pwaEvt, setPwaEvt] = useState<PWAEvent | undefined>(undefined);\n\n  useEffect(() => {\n    const beforePWAInstall = (event: Event) => {\n      event.preventDefault();\n      setPwaEvt(event as PWAEvent);\n    };\n    window.addEventListener(\"beforeinstallprompt\", beforePWAInstall);\n\n    const afterPWAInstall = () => {\n      setPwaEvt(undefined);\n    };\n    window.addEventListener(\"appinstalled\", afterPWAInstall);\n\n    return () => {\n      window.removeEventListener(\"beforeinstallprompt\", beforePWAInstall);\n      window.removeEventListener(\"appinstalled\", afterPWAInstall);\n    };\n  }, []);\n\n  return <PWAContext.Provider value={pwaEvt}>{children}</PWAContext.Provider>;\n};\n","import React from \"react\";\nimport { usePWA } from \"../contexts/pwa\";\nimport \"./layout.scss\";\n\n// eslint-disable-next-line @typescript-eslint/no-var-requires\nconst version = require(\"../../package.json\").version;\n\nexport const Layout: React.FC = ({ children }) => {\n  const pwaEvt = usePWA();\n  return (\n    <>\n      <header className=\"header\">\n        <h1 className=\"app-title\">Beats Calculator</h1>\n        {pwaEvt ? (\n          <button className=\"pwa-install-btn\" onClick={() => pwaEvt.prompt()}>\n            Install Version {version}\n          </button>\n        ) : (\n          <div className=\"version-box\">\n            <span>Version {version}</span>\n          </div>\n        )}\n      </header>\n\n      <main className=\"main\">\n        <article className=\"article\">A digital metronome with beat and note length metrics</article>\n\n        {children}\n      </main>\n\n      <footer className=\"footer\">\n        <p>\n          {`\\u00A9 ${new Date().getFullYear()}`}{\" \"}\n          <a\n            className=\"link\"\n            href=\"https://github.com/vapurrmaid\"\n            rel=\"noreferrer noopener\"\n            target=\"_blank\"\n          >\n            @vapurrmaid\n          </a>\n        </p>\n      </footer>\n    </>\n  );\n};\n","import React from \"react\";\nimport { BPMCalculator } from \"./components/bpm-calculator\";\nimport { Layout } from \"./components/layout\";\nimport { ClickTrackProvider } from \"./contexts/clicktrack\";\nimport { PWAProvider } from \"./contexts/pwa\";\n\nexport const App: React.FC = () => (\n  <PWAProvider>\n    <Layout>\n      <ClickTrackProvider>\n        <BPMCalculator />\n      </ClickTrackProvider>\n    </Layout>\n  </PWAProvider>\n);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    // eslint-disable-next-line @typescript-eslint/prefer-regexp-exec\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config): void {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        // eslint-disable-next-line @typescript-eslint/prefer-includes\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\"No internet connection found. App is running in offline mode.\");\n    });\n}\n\nexport function unregister(): void {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { App } from \"./app\";\nimport \"./index.scss\";\nimport { register } from \"./util/sw\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nregister();\n"],"sourceRoot":""}